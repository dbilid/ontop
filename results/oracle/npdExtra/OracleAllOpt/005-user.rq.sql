SELECT *
FROM (
SELECT

   7 AS "licenceQuestType", NULL AS "licenceLang", CAST(var0 AS VARCHAR(4000)) AS "licence", 
   8 AS "licenseeFromQuestType", NULL AS "licenseeFromLang", CAST(var1 AS VARCHAR(4000)) AS "licenseeFrom", 
   7 AS "companyQuestType", NULL AS "companyLang", CAST(var2 AS VARCHAR(4000)) AS "company"
FROM (
 (
SELECT DISTINCT 
   QVIEW3."PRLNAME" as var0, 
   QVIEW1."PRLLICENSEEDATEVALIDFROM" as var1, 
   QVIEW2."CMPLONGNAME" as var2
 FROM 
"NPD"."LICENCE_LICENSEE_HST" QVIEW1,
"NPD"."COMPANY" QVIEW2,
"NPD"."LICENCE" QVIEW3
WHERE 
QVIEW1."CMPNPDIDCOMPANY" IS NOT NULL AND
QVIEW1."PRLLICENSEEDATEVALIDTO" IS NOT NULL AND
QVIEW1."PRLLICENSEEDATEVALIDFROM" IS NOT NULL AND
QVIEW1."PRLNPDIDLICENCE" IS NOT NULL AND
(QVIEW1."CMPNPDIDCOMPANY" = QVIEW2."CMPNPDIDCOMPANY") AND
QVIEW2."CMPLONGNAME" IS NOT NULL AND
('31-dec-9999' <> QVIEW1."PRLLICENSEEDATEVALIDFROM") AND
(QVIEW1."PRLNPDIDLICENCE" = QVIEW3."PRLNPDIDLICENCE") AND
QVIEW3."PRLNAME" IS NOT NULL
 ) 
 
 ) SUBQALIAS
) SUB_QVIEW

ORDER BY SUB_QVIEW."licence", SUB_QVIEW."licenseeFrom"
